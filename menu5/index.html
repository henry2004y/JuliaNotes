<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/JuliaNotes/libs/highlight/github.min.css"> <link rel=stylesheet  href="/JuliaNotes/css/franklin.css"> <link rel=stylesheet  href="/JuliaNotes/css/pure.css"> <link rel=stylesheet  href="/JuliaNotes/css/side-menu.css"> <style> .franklin-content{padding-left:10%;} @media (min-width: 940px) { .franklin-content {width: 640px; margin-left: 0px; padding-left: 80px;} .header {width: 700px;} } </style> <link rel=icon  href="/JuliaNotes/assets/favicon.png"> <title>Interoperability</title> <div id=layout > <a href="#menu" id=menuLink  class=menu-link ><span></span></a> <div id=menu > <div class=pure-menu > <a class=pure-menu-heading  href="#">Pure-SM</a> <ul class=pure-menu-list > <li class="pure-menu-item "><a href="/JuliaNotes/" class=pure-menu-link >Home</a> <li class="pure-menu-item "><a href="/JuliaNotes/menu1/" class=pure-menu-link >Questions</a> <li class="pure-menu-item "><a href="/JuliaNotes/menu2/" class=pure-menu-link >Types</a> <li class="pure-menu-item "><a href="/JuliaNotes/menu3/" class=pure-menu-link >Meta</a> <li class="pure-menu-item "><a href="/JuliaNotes/menu4/" class=pure-menu-link >Parallel</a> <li class="pure-menu-item pure-menu-selected"><a href="/JuliaNotes/menu5/" class=pure-menu-link >Interoperability</a> <li class="pure-menu-item "><a href="/JuliaNotes/menu6/" class=pure-menu-link >Issues and Tricks</a> <li class="pure-menu-item "><a href="/JuliaNotes/menu7/" class=pure-menu-link >Perception</a> </ul> </div> </div> <div id=main > <div class=header > <h1>Interoperability</h1> <h2>Notes taken during the learning process</h2> </div> <div class=franklin-content ><h1 id=interoperability ><a href="#interoperability" class=header-anchor >Interoperability</a></h1> <h2 id=python ><a href="#python" class=header-anchor >Python</a></h2> <p>I have encountered tons of issues calling Python in Julia, or vice versa. You are lucky if you succeed in the first attempt&#33;</p> <pre><code class="julia-repl hljs"><span class=hljs-meta >julia&gt;</span><span class=language-julia > <span class=hljs-literal >ENV</span>[<span class=hljs-string >&quot;PYTHON&quot;</span>]=<span class=hljs-string >&quot;~/anaconda3/bin/python&quot;</span></span></code></pre>
<p>I had several times of &quot;no backend GUI for matplotlib&quot; issue after installing the PyJulia package in Python for using Julia. The problem was solved by entering</p>
<pre><code class="julia-repl hljs"><span class=hljs-meta >julia&gt;</span><span class=language-julia > <span class=hljs-literal >ENV</span>[<span class=hljs-string >&quot;PYTHON&quot;</span>]=<span class=hljs-string >&quot;&quot;</span>; Pkg.build(<span class=hljs-string >&quot;PyCall&quot;</span>)</span></code></pre>
<p>Online someone mentioned setting</p>
<pre><code class="julia-repl hljs"><span class=hljs-meta >julia&gt;</span><span class=language-julia > <span class=hljs-literal >ENV</span>[<span class=hljs-string >``</span>MPLBACKEND&#x27;&#x27;] = <span class=hljs-string >``</span>tkagg&#x27;&#x27;
</span>
<span class=hljs-meta >julia&gt;</span><span class=language-julia > <span class=hljs-keyword >using</span> PyPlot</span></code></pre>
<p>However, that does not work for me. There seems to be some version and dependency issues when mixing Python and Julia.</p>
<p>It is possible to pass Python and Julia objects back and forth. Some are just done for you, for example Numpy arrays are identical to native Julia types; some needs a little bit of extra work, like a self-defined Python class object. All the Python package wrappers demonstrate how to do this properly.</p>
<p>Calling Julia from Python is also achieved with PyJulia. I would say it is still not in a very good shape &#40;because Julia users don&#39;t care about calling from Python, and Python users don&#39;t want to bother with Julia&#41;.</p>
<h2 id=c ><a href="#c" class=header-anchor >C</a></h2>
<p>Check out <a href="https://github.com/henry2004y/JuliaCalls">JuliaCalls</a>.</p>
<h2 id=fortran ><a href="#fortran" class=header-anchor >Fortran</a></h2>
<p>Julia calls C is pretty straightforward, but it was a pain for the first time calling Fortran. Basically there are two types of obstacles:</p>
<ul>
<li><p>Julia is a rapidly evolving language, so syntax changes very quickly.</p>

<li><p>There are much fewer examples on the Internet than, say, PyCall.</p>

</ul>
<p>Despite all of these, I made it work initially in Julia 1.1. The idea is to see if I can directly call BATL library from Julia, as a first step of rewriting BATSRUS.</p>
<div class=page-foot >
  <div class=copyright >
    &copy; Hongyang Zhou. Last modified: August 21, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>
      </div> 
  </div> 
  <script src="/JuliaNotes/libs/pure/ui.min.js"></script>